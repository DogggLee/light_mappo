# Experiment settings
exp:
  algorithm_name: mappo
  experiment_name: Hunter3_Target1
  seed: 1
  cuda: true
  cuda_deterministic: true
  n_training_threads: 2
  n_rollout_threads: 5
  n_eval_rollout_threads: 2
  n_render_rollout_threads: 1
  num_env_steps: 10000000 # total environment steps to train
  user_name: marl

# Environment settings (common)
env:
  env_name: Gym
  use_obs_instead_of_state: false # use global state instead of concatenated local obs
  episode_length: 200 # max steps per episode

# UAV pursuit scenario settings
uav_pursuit:
  scenario_name: uav_pursuit
  num_hunters: 3
  num_blockers: 0
  world_size: 1.0
  dt: 0.1
  capture_radius: 0.12
  capture_steps: 5
  gif_interval: 10
  gif_frame_duration: 0.1
  target_policy_source: train
  target_patrol_path: config/target_patrol_route.json
  target_patrol_names: null
  target_patrol_switch_interval: 0
  eval_random_patrol_routes: 0
  eval_random_patrol_points: 4
  max_speed_hunter: 0.1
  max_speed_blocker: 0.1
  max_speed_target: 0.1
  perception_hunter: 0.25
  perception_blocker: 0.3
  perception_target: 0.3
  interactive_perception_confirm: true

# Model/network settings
model:
  policy_share: true # whether all agents share the same policy
  use_centralized_V: true # centralized value function
  stacked_frames: 1
  use_stacked_frames: false
  hidden_size: 64
  layer_N: 1
  use_ReLU: true
  use_popart: false
  use_valuenorm: true
  use_feature_normalization: true
  use_orthogonal: true
  gain: 0.01
  use_naive_recurrent_policy: false
  use_recurrent_policy: false
  recurrent_N: 1
  data_chunk_length: 10

# Optimizer settings
optim:
  lr: 0.0005
  critic_lr: 0.0005
  opti_eps: 0.00001
  weight_decay: 0

# PPO settings
ppo:
  ppo_epoch: 15
  use_clipped_value_loss: true
  clip_param: 0.2
  num_mini_batch: 1
  entropy_coef: 0.01
  value_loss_coef: 1
  use_max_grad_norm: true
  max_grad_norm: 10.0
  use_gae: true
  gamma: 0.99
  gae_lambda: 0.95
  use_proper_time_limits: false
  use_huber_loss: true
  use_value_active_masks: true
  use_policy_active_masks: true
  huber_delta: 10.0

# Learning rate schedule
schedule:
  use_linear_lr_decay: false

# Save/log settings
logging:
  save_interval: 1
  log_interval: 5

# Evaluation settings
eval:
  use_eval: false
  eval_interval: 25
  eval_episodes: 32

# Render settings
render:
  save_gifs: false
  use_render: false
  render_episodes: 5
  ifi: 0.1

# Pretrained model
pretrained:
  model_dir: null
